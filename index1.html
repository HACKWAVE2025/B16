<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YANTROG - Intelligent Elevator Monitoring System</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- html2pdf for report generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        

        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #2d3748;
            overflow-x: hidden;
        }

        /* ========== SMOOTH ANIMATIONS ========== */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideRight {
            from {
                opacity: 0;
                transform: translateX(-40px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.05);
            }
        }

        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }
            100% {
                background-position: 1000px 0;
            }
        }

        /* ========== LOGIN PAGE ========== */
        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-box {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.95) 100%);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 60px 50px;
            box-shadow: 0 30px 80px rgba(0,0,0,0.15);
            max-width: 480px;
            width: 100%;
            animation: scaleIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            border: 2px solid rgba(255,255,255,0.8);
        }

        .login-logo {
            text-align: center;
            margin-bottom: 40px;
        }

        .login-logo i {
            font-size: 5em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            animation: pulse 2s infinite;
        }

        .login-logo h1 {
            font-size: 2.8em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 900;
            letter-spacing: -1px;
            text-transform: uppercase;
        }

        .login-logo p {
            color: #718096;
            font-size: 0.95em;
            margin-top: 8px;
            font-weight: 400;
        }

        .input-group {
            margin-bottom: 28px;
            position: relative;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            color: #4a5568;
            font-weight: 600;
            font-size: 0.9em;
            transition: color 0.3s;
        }

        .input-group input {
            width: 100%;
            padding: 16px 50px 16px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            font-size: 1em;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 5px rgba(102, 126, 234, 0.1);
            background: white;
            transform: translateY(-2px);
        }

        .input-group input:focus + i {
            color: #667eea;
            transform: scale(1.2);
        }

        .input-group i {
            position: absolute;
            right: 20px;
            top: 48px;
            color: #a0aec0;
            transition: all 0.3s;
        }

        .login-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.35);
            position: relative;
            overflow: hidden;
        }

        .login-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .login-btn:hover::before {
            left: 100%;
        }

        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.45);
        }

        .login-btn:active {
            transform: translateY(-1px);
        }

        .remember-forgot {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 25px 0;
            font-size: 0.9em;
        }

        .remember-forgot label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            color: #4a5568;
            transition: all 0.3s;
        }

        .remember-forgot label:hover {
            color: #667eea;
            transform: translateX(3px);
        }

        .remember-forgot a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            position: relative;
        }

        .remember-forgot a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: #764ba2;
            transition: width 0.3s;
        }

        .remember-forgot a:hover::after {
            width: 100%;
        }

        /* ========== MAIN DASHBOARD ========== */
        .dashboard-container {
            display: none;
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            min-height: 100vh;
        }

        .dashboard-container.active {
            display: block;
            animation: fadeIn 0.6s ease-out;
        }

        /* Top Navigation Bar */
        .navbar {
            background: linear-gradient(90deg, #E6E6FA, #B3E5FC);

            backdrop-filter: blur(20px);
            padding: 20px 40px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 2px solid rgba(102, 126, 234, 0.1);
            animation: slideDown 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .navbar-left {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .navbar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.8em;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: -1px;
        }

        .navbar-logo:hover {
            transform: scale(1.05);
        }

        .navbar-logo i {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: pulse 2s infinite;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            padding: 10px 18px;
            border-radius: 50px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(135deg, transparent 0%, transparent 100%);
        }

        .user-profile:hover {
            background: linear-gradient(135deg, #f0f4ff 0%, #e6efff 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.15);
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.35);
            transition: all 0.5s;
        }

        .user-profile:hover .user-avatar {
            transform: rotate(360deg);
        }

        .notification-bell {
            position: relative;
            cursor: pointer;
            font-size: 1.4em;
            color: #667eea;
            transition: all 0.3s;
            padding: 10px;
            border-radius: 12px;
        }

        .notification-bell:hover {
            background: linear-gradient(135deg, #f0f4ff 0%, #e6efff 100%);
            transform: scale(1.15) rotate(15deg);
        }

        .notification-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background: linear-gradient(135deg, #fc8181 0%, #f56565 100%);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.65em;
            font-weight: 700;
            box-shadow: 0 3px 10px rgba(245, 101, 101, 0.4);
            animation: pulse 1.5s infinite;
        }

        .logout-btn, .report-btn {
            background: linear-gradient(135deg, #fc8181 0%, #f56565 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 5px 15px rgba(245, 101, 101, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .report-btn {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            box-shadow: 0 5px 15px rgba(72, 187, 120, 0.3);
        }

        .logout-btn:hover, .report-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(245, 101, 101, 0.4);
        }

        .report-btn:hover {
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.4);
        }

        .container {
            max-width : 1500px;
            margin: 0 auto;
            padding: 35px 25px;
        }

        /* Header */
        .header {
            background: linear-gradient(120deg, #fce4ec, #fffde7);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 35px 40px;
            margin-bottom: 35px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.06);
            border: 2px solid rgba(255,255,255,0.9);
            animation: slideUp 0.6s ease-out;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        .header h1 {
            font-size: 2.2em;
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 12px;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        .header p {
            color: #718096;
            font-size: 1.05em;
            font-weight: 400;
        }

        /* Navigation Tabs */
        .tabs {
            display: flex;
            gap: 18px;
            margin-bottom: 35px;
            flex-wrap: wrap;
            animation: slideRight 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .tab {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.92) 100%);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(102, 126, 234, 0.1);
            padding: 16px 28px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 10px;
            color: #4a5568;
            position: relative;
            overflow: hidden;
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            transition: width 0.4s;
            z-index: -1;
        }

        .tab:hover::before {
            width: 100%;
        }

        .tab:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.4);
            transform: translateY(-2px);
        }

        .tab i {
            font-size: 1.1em;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .stat-card {
            background: linear-gradient(160deg, #e3f2fd, #f9fbe7);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.06);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            border: 2px solid transparent;
            animation: scaleIn 0.6s ease-out;
            animation-fill-mode: both;
        }

        .stat-card:nth-child(1) { animation-delay: 0.1s; }
        .stat-card:nth-child(2) { animation-delay: 0.2s; }
        .stat-card:nth-child(3) { animation-delay: 0.3s; }
        .stat-card:nth-child(4) { animation-delay: 0.4s; }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        }

        .stat-card.blue::before {
            background: linear-gradient(90deg, #4299e1 0%, #3182ce 100%);
        }

        .stat-card.red::before {
            background: linear-gradient(90deg, #fc8181 0%, #f56565 100%);
        }

        .stat-card.green::before {
            background: linear-gradient(90deg, #48bb78 0%, #38a169 100%);
        }

        .stat-card.purple::before {
            background: linear-gradient(90deg, #9f7aea 0%, #805ad5 100%);
        }

        .stat-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 50px rgba(0,0,0,0.12);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .stat-card-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .stat-icon {
            width: 65px;
            height: 65px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            color: white;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            transition: all 0.4s;
        }

        .stat-card:hover .stat-icon {
            transform: rotateY(360deg);
        }

        .stat-card.blue .stat-icon {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
        }

        .stat-card.red .stat-icon {
            background: linear-gradient(135deg, #fc8181 0%, #f56565 100%);
        }

        .stat-card.green .stat-icon {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }

        .stat-card.purple .stat-icon {
            background: linear-gradient(135deg, #9f7aea 0%, #805ad5 100%);
        }

        .stat-details {
            flex: 1;
            padding-left: 20px;
        }

        .stat-label {
            color: #718096;
            font-size: 0.85em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 2.8em;
            font-weight: 800;
            color: #2d3748;
            margin-bottom: 8px;
            line-height: 1;
        }

        .stat-change {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .stat-change.positive {
            color: #48bb78;
        }

        .stat-change.negative {
            color: #fc8181;
        }

        /* Content Sections */
        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.6s ease-out;
        }

        .card {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.92) 100%);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.06);
            transition: all 0.4s;
            border: 2px solid rgba(255,255,255,0.9);
        }

        .card:hover {
            box-shadow: 0 15px 45px rgba(0,0,0,0.1);
            transform: translateY(-3px);
        }

        .card h2 {
            margin-bottom: 25px;
            color: #2d3748;
            font-size: 1.5em;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card h2 i {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Grid Layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
        }

        /* Grouped Alert Items */
        .elevator-alerts-group {
            margin-bottom: 30px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: all 0.4s;
        }

        .elevator-alerts-group:hover {
            box-shadow: 0 10px 35px rgba(0,0,0,0.12);
            transform: translateY(-3px);
        }

        .elevator-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .elevator-header:hover {
            background: linear-gradient(135deg, #5568d3 0%, #6a3f8f 100%);
        }

        .elevator-header h3 {
            font-size: 1.2em;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .elevator-header .badge {
            background: rgba(255,255,255,0.25);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .alert-items-container {
            background: linear-gradient(180deg, #faf3e0, #f5f5f5);

        }

        .alert-item {
            padding: 25px;
            border-bottom: 2px solid #f7fafc;
            transition: all 0.3s;
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .alert-item:last-child {
            border-bottom: none;
        }

        .alert-item:hover {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            transform: translateX(5px);
        }

        .alert-image {
            width: 120px;
            height: 120px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            flex-shrink: 0;
            position: relative;
        }

        .alert-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s;
        }

        .alert-item:hover .alert-image img {
            transform: scale(1.1);
        }

        .alert-image-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e0 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            color: #a0aec0;
        }

        .alert-content {
            flex: 1;
        }

        .alert-content h4 {
            margin-bottom: 10px;
            color: #2d3748;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1em;
        }

        .alert-content p {
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .alert-content small {
            color: #a0aec0;
            font-size: 0.85em;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .alert-type-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .alert-type-badge.critical {
            background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%);
            color: #c53030;
        }

        .alert-type-badge.warning {
            background: linear-gradient(135deg, #feebc8 0%, #fbd38d 100%);
            color: #c05621;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        table thead {
            background: linear-gradient(120deg, #e3f2fd, #fff3e0);

        }

        table th {
            padding: 18px 20px;
            text-align: left;
            font-weight: 700;
            color: #2d3748;
            text-transform: uppercase;
            font-size: 0.85em;
            letter-spacing: 0.8px;
            border-bottom: 2px solid #e2e8f0;
        }

        table th:first-child {
            border-top-left-radius: 12px;
        }

        table th:last-child {
            border-top-right-radius: 12px;
        }

        table td {
            padding: 20px;
            border-bottom: 1px solid #f7fafc;
            color: #4a5568;
            font-weight: 500;
        }

        table tbody tr {
            transition: all 0.3s;
            background: white;
        }

        table tbody tr:hover {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            transform: scale(1.01);
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        table tbody tr:last-child td:first-child {
            border-bottom-left-radius: 12px;
        }

        table tbody tr:last-child td:last-child {
            border-bottom-right-radius: 12px;
        }

        /* Status Badges */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.85em;
            font-weight: 700;
            letter-spacing: 0.3px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .status-badge:hover {
            transform: scale(1.05);
        }

        .status-healthy {
            background: linear-gradient(135deg, #c6f6d5 0%, #9ae6b4 100%);
            color: #22543d;
        }

        .status-warning {
            background: linear-gradient(135deg, #feebc8 0%, #fbd38d 100%);
            color: #7c2d12;
        }

        .status-critical {
            background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%);
            color: #742a2a;
        }

        /* Charts */
        .chart-container {
            position: relative;
            height: 350px;
            margin-top: 20px;
        }

        /* Loading Spinner */
        .loading {
            text-align: center;
            padding: 60px 20px;
        }

        .spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Refresh Indicator */
        .refresh-indicator {
            position: fixed;
            top: 90px;
            right: 30px;
            background: linear-gradient(100deg, #f3e5f5, #ede7f6);

            backdrop-filter: blur(20px);
            padding: 12px 20px;
            border-radius: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            font-size: 0.9em;
            color: #4a5568;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 999;
            transition: all 0.3s;
            border: 2px solid rgba(102, 126, 234, 0.2);
        }

        .refresh-indicator.active {
            color: #48bb78;
            border-color: #48bb78;
        }

        .refresh-indicator i {
            transition: transform 0.3s;
        }

        .refresh-indicator.active i {
            animation: spin 1s linear infinite;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.95) 100%);
            backdrop-filter: blur(20px);
            padding: 50px 40px 30px;
            margin-top: 60px;
            border-radius: 25px 25px 0 0;
            box-shadow: 0 -5px 25px rgba(0,0,0,0.08);
            border-top: 2px solid rgba(102, 126, 234, 0.1);
        }

        .footer-content {
            max-width: 1500px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-section h3 {
            color: #2d3748;
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .footer-section p, .footer-section li {
            color: #718096;
            line-height: 1.8;
            font-size: 0.95em;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-section li:hover {
            color: #667eea;
            transform: translateX(5px);
        }

        .footer-social {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .footer-social a {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s;
            text-decoration: none;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .footer-social a:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .footer-bottom {
            text-align: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #e2e8f0;
            color: #718096;
            font-size: 0.9em;
        }

        .footer-bottom i {
            color: #fc8181;
            animation: pulse 2s infinite;
        }

        /* Report Modal */
        .report-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(10px);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        .report-modal.active {
            display: flex;
        }

        .report-modal-content {
            background: white;
            border-radius: 25px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 30px 80px rgba(0,0,0,0.3);
            animation: scaleIn 0.4s;
        }

        .report-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .report-modal-header h2 {
            font-size: 1.8em;
            color: #2d3748;
            font-weight: 800;
        }

        .close-modal {
            background: #f7fafc;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            color: #4a5568;
            transition: all 0.3s;
        }

        .close-modal:hover {
            background: #fc8181;
            color: white;
            transform: rotate(90deg);
        }

        .report-options {
            display: grid;
            gap: 15px;
        }

        .report-option {
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .report-option:hover {
            border-color: #667eea;
            background: linear-gradient(135deg, #f0f4ff 0%, #e6efff 100%);
            transform: translateX(5px);
        }

        .report-option i {
            font-size: 2em;
            color: #667eea;
        }

        .report-option-content h3 {
            color: #2d3748;
            font-size: 1.1em;
            margin-bottom: 5px;
        }

        .report-option-content p {
            color: #718096;
            font-size: 0.9em;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 15px;
                padding: 20px;
            }

            .tabs {
                overflow-x: auto;
                flex-wrap: nowrap;
            }

            .grid-2 {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .login-box {
                padding: 40px 30px;
            }

            .stat-value {
                font-size: 2.2em;
            }

            .alert-item {
                flex-direction: column;
            }

            .alert-image {
                width: 100%;
                height: 200px;
            }
        }

        /* Smooth Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        ::-webkit-scrollbar-track {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #5568d3 0%, #6a3f8f 100%);
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div class="login-container" id="loginPage">
        <div class="login-box">
            <div class="login-logo">
                <i class="fas fa-microchip"></i>
                <h1>YANTROG</h1>
                <p>Intelligent Elevator Monitoring System</p>
            </div>

            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="input-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" placeholder="Enter your username" required>
                    <i class="fas fa-user"></i>
                </div>

                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                    <i class="fas fa-lock"></i>
                </div>

                <div class="remember-forgot">
                    <label>
                        <input type="checkbox">
                        <span>Remember me</span>
                    </label>
                    <a href="#">Forgot Password?</a>
                </div>

                <button type="submit" class="login-btn">
                    <i class="fas fa-sign-in-alt"></i> Login to Dashboard
                </button>

                <div style="text-align: center; margin-top: 25px; color: #a0aec0; font-size: 0.85em;">
                    <p>Demo: <strong>admin</strong> / <strong>admin123</strong></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div class="dashboard-container" id="dashboardPage">
        <!-- Top Navigation Bar -->
        <div class="navbar">
            <div class="navbar-left">
                <div class="navbar-logo">
                    <i class="fas fa-microchip"></i>
                    <span>YANTROG</span>
                </div>
            </div>

            <div class="navbar-right">
                <button class="report-btn" onclick="showReportModal()">
                    <i class="fas fa-file-pdf"></i> Generate Report
                </button>

                <div class="notification-bell" onclick="showNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">0</span>
                </div>

                <div class="user-profile" onclick="toggleUserMenu()">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div>
                        <div style="font-weight: 700; font-size: 0.9em;">Admin User</div>
                        <div style="font-size: 0.8em; color: #a0aec0;">Administrator</div>
                    </div>
                </div>

                <button class="logout-btn" onclick="handleLogout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>

        <!-- Refresh Indicator -->
        <div class="refresh-indicator" id="refreshIndicator">
            <i class="fas fa-sync-alt"></i>
            <span>Auto-refresh: ON</span>
        </div>

        <div class="container">
            <!-- Header -->
            <div class="header">
                <h1><i class="fas fa-chart-line"></i> Predictive Maintenance Dashboard</h1>
                <p>Real-time intelligent monitoring and analytics for elevator rope health across your fleet</p>
            </div>

            <!-- Navigation Tabs -->
            <div class="tabs">
                <button class="tab active" onclick="showSection('dashboard')">
                    <i class="fas fa-home"></i> Dashboard
                </button>
                <button class="tab" onclick="showSection('elevators')">
                    <i class="fas fa-building"></i> Elevators
                </button>
                <button class="tab" onclick="showSection('alerts')">
                    <i class="fas fa-exclamation-triangle"></i> Alerts
                </button>
                <button class="tab" onclick="showSection('analytics')">
                    <i class="fas fa-chart-bar"></i> Analytics
                </button>
                <button class="tab" onclick="showSection('technicians')">
                    <i class="fas fa-users"></i> Technicians
                </button>
                <button class="tab" onclick="showSection('savings')">
                    <i class="fas fa-piggy-bank"></i> Cost Savings
                </button>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard" class="section active">
                <div class="stats-grid">
                    <div class="stat-card blue">
                        <div class="stat-card-content">
                            <div class="stat-details">
                                <div class="stat-label">Total Elevators</div>
                                <div class="stat-value" id="totalElevators">-</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i> 2 new this month
                                </div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-building"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card red">
                        <div class="stat-card-content">
                            <div class="stat-details">
                                <div class="stat-label">Active Alerts</div>
                                <div class="stat-value" id="activeAlerts">-</div>
                                <div class="stat-change negative">
                                    <i class="fas fa-arrow-down"></i> -3 from yesterday
                                </div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-bell"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card green">
                        <div class="stat-card-content">
                            <div class="stat-details">
                                <div class="stat-label">Fleet Health</div>
                                <div class="stat-value" id="fleetHealth">-</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i> +5% this week
                                </div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card purple">
                        <div class="stat-card-content">
                            <div class="stat-details">
                                <div class="stat-label">Monthly Savings</div>
                                <div class="stat-value" id="monthlySavings">₹0</div>
                                <div class="stat-change positive">
                                    <i class="fas fa-arrow-up"></i> +15% increase
                                </div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-rupee-sign"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card">
                        <h2><i class="fas fa-chart-pie"></i> Status Distribution</h2>
                        <div class="chart-container">
                            <canvas id="statusChart"></canvas>
                        </div>
                    </div>

                    <div class="card">
                        <h2><i class="fas fa-exclamation-circle"></i> Recent Alerts</h2>
                        <div id="recentAlerts">
                            <div class="loading">
                                <div class="spinner"></div>
                                Loading alerts...
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2><i class="fas fa-exclamation-triangle"></i> Highest Risk Elevators</h2>
                    <div id="highRiskElevators">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading data...
                        </div>
                    </div>
                </div>
            </div>

            <!-- Elevators Section -->
            <div id="elevators" class="section">
                <div class="card">
                    <h2><i class="fas fa-building"></i> All Elevators</h2>
                    <div id="elevatorsTable">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading elevators...
                        </div>
                    </div>
                </div>
            </div>

            <!-- Alerts Section (Grouped by Elevator) -->
            <div id="alerts" class="section">
                <div class="card">
                    <h2><i class="fas fa-bell"></i> Active Alerts - Grouped by Elevator</h2>
                    <div id="alertsGrouped">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading alerts...
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Section -->
            <div id="analytics" class="section">
                <div class="card">
                    <h2><i class="fas fa-chart-line"></i> Fleet Analytics</h2>
                    <div id="fleetAnalytics">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading analytics...
                        </div>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card">
                        <h2><i class="fas fa-chart-area"></i> Risk Score Distribution</h2>
                        <div class="chart-container">
                            <canvas id="riskChart"></canvas>
                        </div>
                    </div>

                    <div class="card">
                        <h2><i class="fas fa-file-invoice-dollar"></i> ROI Report</h2>
                        <div id="roiReport">
                            <div class="loading">
                                <div class="spinner"></div>
                                Loading ROI data...
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Technicians Section -->
            <div id="technicians" class="section">
                <div class="card">
                    <h2><i class="fas fa-trophy"></i> Technician Leaderboard</h2>
                    <div id="technicianLeaderboard">
                        <div class="loading">
                            <div class="spinner"></div>
                            Loading leaderboard...
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cost Savings Section -->
            <div id="savings" class="section">
                <div class="stats-grid">
                    <div class="stat-card green">
                        <div class="stat-card-content">
                            <div class="stat-details">
                                <div class="stat-label">Total Savings (30 days)</div>
                                <div class="stat-value" id="totalSavings30">₹0</div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-coins"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card purple">
                        <div class="stat-card-content">
                            <div class="stat-details">
                                <div class="stat-label">Overall ROI</div>
                                <div class="stat-value" id="overallROI">0%</div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-percentage"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card blue">
                        <div class="stat-card-content">
                            <div class="stat-details">
                                <div class="stat-label">Total Investment</div>
                                <div class="stat-value" id="totalInvestment">₹0</div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-wallet"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card green">
                        <div class="stat-card-content">
                            <div class="stat-details">
                                <div class="stat-label">Net Benefit</div>
                                <div class="stat-value" id="netBenefit">₹0</div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2><i class="fas fa-chart-bar"></i> Savings Breakdown by Status</h2>
                    <div class="chart-container">
                        <canvas id="savingsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-microchip"></i> YANTROG</h3>
                    <p>Leading the future of predictive maintenance with IoT-enabled intelligent monitoring solutions for elevator systems.</p>
                    <div class="footer-social">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-github"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>

                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><i class="fas fa-chevron-right"></i> Dashboard</li>
                        <li><i class="fas fa-chevron-right"></i> Elevators</li>
                        <li><i class="fas fa-chevron-right"></i> Analytics</li>
                        <li><i class="fas fa-chevron-right"></i> Reports</li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul>
                        <li><i class="fas fa-chevron-right"></i> Documentation</li>
                        <li><i class="fas fa-chevron-right"></i> API Reference</li>
                        <li><i class="fas fa-chevron-right"></i> Support Center</li>
                        <li><i class="fas fa-chevron-right"></i> Contact Us</li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Contact Info</h3>
                    <p><i class="fas fa-envelope"></i> support@yantrog.com</p>
                    <p><i class="fas fa-phone"></i> +91 1234 567 890</p>
                    <p><i class="fas fa-map-marker-alt"></i> Mumbai, Maharashtra, India</p>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 YANTROG - Intelligent Elevator Monitoring. Made with <i class="fas fa-heart"></i> for safer elevators.</p>
            </div>
        </div>
    </div>

    <!-- Report Generation Modal -->
    <div class="report-modal" id="reportModal">
        <div class="report-modal-content">
            <div class="report-modal-header">
                <h2><i class="fas fa-file-pdf"></i> Generate Report</h2>
                <button class="close-modal" onclick="closeReportModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="report-options">
                <div class="report-option" onclick="generateReport('elevator')">
                    <i class="fas fa-building"></i>
                    <div class="report-option-content">
                        <h3>Elevator Report</h3>
                        <p>Detailed report for a specific elevator</p>
                    </div>
                </div>

                <div class="report-option" onclick="generateReport('fleet')">
                    <i class="fas fa-layer-group"></i>
                    <div class="report-option-content">
                        <h3>Fleet Report</h3>
                        <p>Comprehensive fleet-wide analysis</p>
                    </div>
                </div>

                <div class="report-option" onclick="generateReport('roi')">
                    <i class="fas fa-chart-pie"></i>
                    <div class="report-option-content">
                        <h3>ROI Report</h3>
                        <p>Financial savings and ROI analysis</p>
                    </div>
                </div>

                <div class="report-option" onclick="generateReport('alerts')">
                    <i class="fas fa-exclamation-triangle"></i>
                    <div class="report-option-content">
                        <h3>Alerts Report</h3>
                        <p>All alerts and incidents summary</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // API Base URL
        const API_BASE = 'http://localhost:8000';
        
        // Global variables
        let statusChart, riskChart, savingsChart;
        let refreshInterval;
        let currentUser = null;

        // Sample images for alerts (placeholder URLs - replace with actual camera feeds)
        const alertImages = {
            'wear': 'https://via.placeholder.com/120x120/e53e3e/ffffff?text=WEAR',
            'tension': 'https://via.placeholder.com/120x120/ed8936/ffffff?text=TENSION',
            'vibration': 'https://via.placeholder.com/120x120/f6ad55/ffffff?text=VIBRATION',
            'temperature': 'https://via.placeholder.com/120x120/dd6b20/ffffff?text=TEMP',
            'corrosion': 'https://via.placeholder.com/120x120/c05621/ffffff?text=CORROSION',
            'diameter': 'https://via.placeholder.com/120x120/9c4221/ffffff?text=DIAMETER'
        };

        // Login Handler
        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username === 'admin' && password === 'admin123') {
                currentUser = { username, role: 'Administrator' };
                
                document.getElementById('loginPage').style.display = 'none';
                document.getElementById('dashboardPage').classList.add('active');
                
                initializeDashboard();
            } else {
                alert('❌ Invalid credentials! Use: admin / admin123');
            }
        }

        // Logout Handler
        function handleLogout() {
            if (confirm('Are you sure you want to logout?')) {
                currentUser = null;
                document.getElementById('loginPage').style.display = 'flex';
                document.getElementById('dashboardPage').classList.remove('active');
                
                if (refreshInterval) {
                    clearInterval(refreshInterval);
                }
            }
        }

        // Initialize Dashboard
        function initializeDashboard() {
            console.log('🚀 YANTROG System initialized');
            loadDashboard();
            startAutoRefresh();
        }

        // Section Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
            
            loadSectionData(sectionId);
        }

        // Show/Hide Report Modal
        function showReportModal() {
            document.getElementById('reportModal').classList.add('active');
        }

        function closeReportModal() {
            document.getElementById('reportModal').classList.remove('active');
        }

        // Generate Report
        async function generateReport(type) {
            closeReportModal();
            
            try {
                let reportData;
                let filename;
                
                switch(type) {
                    case 'elevator':
                        const elevatorId = prompt('Enter Elevator ID (e.g., ELEV-001):');
                        if (!elevatorId) return;
                        const response = await fetch(`${API_BASE}/reports/elevator/${elevatorId}`);
                        reportData = await response.json();
                        filename = `YANTROG_Elevator_Report_${elevatorId}.pdf`;
                        break;
                    case 'fleet':
                        const fleetResponse = await fetch(`${API_BASE}/reports/fleet`);
                        reportData = await fleetResponse.json();
                        filename = 'YANTROG_Fleet_Report.pdf';
                        break;
                    case 'roi':
                        const roiResponse = await fetch(`${API_BASE}/analytics/roi-report`);
                        reportData = await roiResponse.json();
                        filename = 'YANTROG_ROI_Report.pdf';
                        break;
                    case 'alerts':
                        const alertsResponse = await fetch(`${API_BASE}/alerts`);
                        reportData = await alertsResponse.json();
                        filename = 'YANTROG_Alerts_Report.pdf';
                        break;
                }
                
                generatePDF(reportData, type, filename);
                
            } catch (error) {
                console.error('Error generating report:', error);
                alert('❌ Error generating report. Please try again.');
            }
        }
        // Generate PDF Report
        function generatePDF(data, type, filename) {
            const reportHTML = `
                <div style="padding: 40px; font-family: Arial, sans-serif;">
                    <div style="text-align: center; margin-bottom: 40px;">
                        <h1 style="color: #667eea; font-size: 2.5em;">YANTROG</h1>
                        <p style="color: #666;">Intelligent Elevator Monitoring System</p>
                        <hr style="border: 2px solid #667eea; width: 200px;">
                    </div>
                    
                    <h2 style="color: #2d3748; margin-top: 30px;">${type.toUpperCase()} REPORT</h2>
                    <p style="color: #666;">Generated on: ${new Date().toLocaleString()}</p>
                    
                    <div style="margin-top: 30px;">
                        <pre style="background: #f7fafc; padding: 20px; border-radius: 10px; overflow: auto;">
${JSON.stringify(data, null, 2)}
                        </pre>
                    </div>
                    
                    <div style="margin-top: 50px; text-align: center; color: #999; font-size: 0.9em;">
                        <p>© 2025 YANTROG - Confidential Report</p>
                    </div>
                </div>
            `;
            
            const opt = {
                margin: 10,
                filename: filename,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            
            html2pdf().set(opt).from(reportHTML).save();
            alert('✅ Report generated successfully!');
        }

        // Show Notifications
        function showNotifications() {
            alert('🔔 Notifications\n\n• ELEV-003: Critical alert\n• ELEV-012: Warning detected\n• Maintenance due for ELEV-007\n• System health: Good');
        }

        // Toggle User Menu
        function toggleUserMenu() {
            alert('👤 User Menu\n\n• Profile Settings\n• Change Password\n• Preferences\n• Help & Support');
        }

        // Load Section Data
        function loadSectionData(sectionId) {
            switch(sectionId) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'elevators':
                    loadElevators();
                    break;
                case 'alerts':
                    loadAlertsGrouped();
                    break;
                case 'analytics':
                    loadAnalytics();
                    break;
                case 'technicians':
                    loadTechnicians();
                    break;
                case 'savings':
                    loadSavings();
                    break;
            }
        }

        // Format Currency
        function formatCurrency(amount) {
            return '₹' + Math.round(amount).toLocaleString('en-IN');
        }

        // Get Status Badge HTML
        function getStatusBadge(status) {
            const icons = {
                'Healthy': 'fa-check-circle',
                'Warning': 'fa-exclamation-triangle',
                'Critical': 'fa-times-circle'
            };
            const classes = {
                'Healthy': 'status-healthy',
                'Warning': 'status-warning',
                'Critical': 'status-critical'
            };
            return `<span class="status-badge ${classes[status] || ''}">
                <i class="fas ${icons[status] || 'fa-circle'}"></i> ${status}
            </span>`;
        }

        // Animate Value Counter
        function animateValue(id, start, end, duration) {
            const element = document.getElementById(id);
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                    current = end;
                    clearInterval(timer);
                }
                element.textContent = Math.round(current);
            }, 16);
        }

        // Load Dashboard
        async function loadDashboard() {
            try {
                const response = await fetch(`${API_BASE}/dashboard/summary`);
                const data = await response.json();
                
                animateValue('totalElevators', 0, data.total_elevators || 0, 1000);
                animateValue('activeAlerts', 0, data.active_alerts || 0, 1000);
                document.getElementById('fleetHealth').textContent = (data.fleet_health_percentage || 0) + '%';
                document.getElementById('monthlySavings').textContent = formatCurrency(data.total_savings_this_month || 0);
                
                document.getElementById('notificationCount').textContent = data.active_alerts || 0;
                
                createStatusChart(data.status_breakdown);
                loadRecentAlerts();
                loadHighRiskElevators();
                
            } catch (error) {
                console.error('Error loading dashboard:', error);
            }
        }

        // Create Status Chart
        function createStatusChart(statusData) {
            const ctx = document.getElementById('statusChart');
            
            if (statusChart) {
                statusChart.destroy();
            }
            
            statusChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Healthy', 'Warning', 'Critical'],
                    datasets: [{
                        data: [
                            statusData?.Healthy || 0,
                            statusData?.Warning || 0,
                            statusData?.Critical || 0
                        ],
                        backgroundColor: [
                            'rgba(72, 187, 120, 0.8)',
                            'rgba(237, 137, 54, 0.8)',
                            'rgba(252, 129, 129, 0.8)'
                        ],
                        borderWidth: 0,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 13,
                                    weight: '600',
                                    family: 'Poppins'
                                }
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            padding: 12,
                            titleFont: {
                                size: 14,
                                weight: '700'
                            }
                        }
                    }
                }
            });
        }

        // Load Recent Alerts
        async function loadRecentAlerts() {
            try {
                const response = await fetch(`${API_BASE}/alerts?resolved=false`);
                const data = await response.json();
                
                const container = document.getElementById('recentAlerts');
                
                if (data.alerts && data.alerts.length > 0) {
                    const alertsHTML = data.alerts.slice(0, 5).map(alert => {
                        const imageKey = alert.triggered_by || 'wear';
                        return `
                        <div class="alert-item">
                            <div class="alert-image">
                                <img src="${alertImages[imageKey] || alertImages['wear']}" alt="${alert.triggered_by}">
                            </div>
                            <div class="alert-content">
                                <h4>
                                    <span class="alert-type-badge ${alert.alert_type.toLowerCase()}">
                                        <i class="fas ${alert.alert_type === 'Critical' ? 'fa-exclamation-circle' : 'fa-exclamation-triangle'}"></i>
                                        ${alert.alert_type}
                                    </span>
                                    ${alert.elevator_id}
                                </h4>
                                <p>${alert.message}</p>
                                <small><i class="far fa-clock"></i> ${new Date(alert.timestamp).toLocaleString()}</small>
                            </div>
                        </div>
                    `}).join('');
                    
                    container.innerHTML = alertsHTML;
                } else {
                    container.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #48bb78;">
                            <i class="fas fa-check-circle" style="font-size: 3em; margin-bottom: 15px;"></i>
                            <h3>All Systems Healthy!</h3>
                            <p>No active alerts at the moment.</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error loading alerts:', error);
            }
        }

        // Load High Risk Elevators
        async function loadHighRiskElevators() {
            try {
                const response = await fetch(`${API_BASE}/analytics/fleet`);
                const data = await response.json();
                
                const container = document.getElementById('highRiskElevators');
                
                if (data.highest_risk_elevators && data.highest_risk_elevators.length > 0) {
                    const tableHTML = `
                        <table>
                            <thead>
                                <tr>
                                    <th><i class="fas fa-building"></i> Elevator ID</th>
                                    <th><i class="fas fa-traffic-light"></i> Status</th>
                                    <th><i class="fas fa-exclamation-triangle"></i> Risk Score</th>
                                    <th><i class="fas fa-percentage"></i> Confidence</th>
                                    <th><i class="fas fa-info-circle"></i> Reason</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data.highest_risk_elevators.slice(0, 10).map(elev => `
                                    <tr>
                                        <td><strong>${elev.elevator_id}</strong></td>
                                        <td>${getStatusBadge(elev.status)}</td>
                                        <td><strong style="color: ${elev.risk_score > 70 ? '#fc8181' : elev.risk_score > 50 ? '#ed8936' : '#48bb78'};">${elev.risk_score}/100</strong></td>
                                        <td>${(elev.confidence * 100).toFixed(0)}%</td>
                                        <td>${elev.reason.substring(0, 80)}...</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;
                    container.innerHTML = tableHTML;
                } else {
                    container.innerHTML = '<p style="padding: 20px; text-align: center;">No data available</p>';
                }
            } catch (error) {
                console.error('Error loading high risk elevators:', error);
            }
        }

        // Load All Elevators
        async function loadElevators() {
            try {
                const response = await fetch(`${API_BASE}/elevators`);
                const data = await response.json();
                
                const container = document.getElementById('elevatorsTable');
                
                if (data.elevators && data.elevators.length > 0) {
                    const elevatorsWithStatus = await Promise.all(
                        data.elevators.map(async (elev) => {
                            try {
                                const statusRes = await fetch(`${API_BASE}/status/${elev.elevator_id}`);
                                const statusData = await statusRes.json();
                                return { ...elev, statusData };
                            } catch {
                                return { ...elev, statusData: null };
                            }
                        })
                    );
                    
                    const tableHTML = `
                        <table>
                            <thead>
                                <tr>
                                    <th><i class="fas fa-building"></i> Elevator ID</th>
                                    <th><i class="fas fa-city"></i> Building</th>
                                    <th><i class="fas fa-map-marker-alt"></i> Location</th>
                                    <th><i class="fas fa-layer-group"></i> Floor Range</th>
                                    <th><i class="fas fa-traffic-light"></i> Status</th>
                                    <th><i class="fas fa-exclamation-triangle"></i> Risk Score</th>
                                    <th><i class="fas fa-tools"></i> Last Maintenance</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${elevatorsWithStatus.map(elev => `
                                    <tr>
                                        <td><strong>${elev.elevator_id}</strong></td>
                                        <td>${elev.building_name}</td>
                                        <td>${elev.location || 'N/A'}</td>
                                        <td>${elev.floor_range}</td>
                                        <td>${elev.statusData ? getStatusBadge(elev.statusData.status) : '-'}</td>
                                        <td>${elev.statusData ? '<strong>' + elev.statusData.risk_score + '/100</strong>' : '-'}</td>
                                        <td><i class="far fa-calendar-alt"></i> ${elev.last_maintenance}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;
                    container.innerHTML = tableHTML;
                } else {
                    container.innerHTML = `
                        <div style="text-align: center; padding: 40px;">
                            <i class="fas fa-database" style="font-size: 3em; color: #cbd5e0; margin-bottom: 15px;"></i>
                            <h3>No elevators found</h3>
                            <p>Run <code>python simulate.py</code> to generate demo data.</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error loading elevators:', error);
            }
        }

        // Load Alerts Grouped by Elevator
        async function loadAlertsGrouped() {
            try {
                const response = await fetch(`${API_BASE}/alerts`);
                const data = await response.json();
                
                const container = document.getElementById('alertsGrouped');
                
                if (data.alerts && data.alerts.length > 0) {
                    // Group alerts by elevator_id
                    const groupedAlerts = {};
                    data.alerts.forEach(alert => {
                        if (!groupedAlerts[alert.elevator_id]) {
                            groupedAlerts[alert.elevator_id] = [];
                        }
                        groupedAlerts[alert.elevator_id].push(alert);
                    });
                    
                    // Create grouped HTML
                    const groupedHTML = Object.keys(groupedAlerts).map(elevatorId => {
                        const alerts = groupedAlerts[elevatorId];
                        const alertCount = alerts.length;
                        
                        return `
                            <div class="elevator-alerts-group">
                                <div class="elevator-header" onclick="this.parentElement.classList.toggle('collapsed')">
                                    <h3>
                                        <i class="fas fa-building"></i>
                                        ${elevatorId}
                                    </h3>
                                    <div>
                                        <span class="badge">${alertCount} Alert${alertCount > 1 ? 's' : ''}</span>
                                    </div>
                                </div>
                                <div class="alert-items-container">
                                    ${alerts.map(alert => {
                                        const imageKey = alert.triggered_by || 'wear';
                                        return `
                                            <div class="alert-item">
                                                <div class="alert-image">
                                                    <img src="${alertImages[imageKey] || alertImages['wear']}" 
                                                         alt="${alert.triggered_by}" 
                                                         title="Live footage: ${alert.triggered_by}">
                                                </div>
                                                <div class="alert-content">
                                                    <h4>
                                                        <span class="alert-type-badge ${alert.alert_type.toLowerCase()}">
                                                            <i class="fas ${alert.alert_type === 'Critical' ? 'fa-exclamation-circle' : 'fa-exclamation-triangle'}"></i>
                                                            ${alert.alert_type}
                                                        </span>
                                                        Triggered by: ${alert.triggered_by || 'Multiple'}
                                                    </h4>
                                                    <p>${alert.message}</p>
                                                    <small>
                                                        <i class="far fa-clock"></i> ${new Date(alert.timestamp).toLocaleString()}
                                                        ${alert.resolved ? ' | <i class="fas fa-check-circle"></i> Resolved' : ' | <i class="fas fa-clock"></i> Pending'}
                                                    </small>
                                                </div>
                                            </div>
                                        `}).join('')}
                                </div>
                            </div>
                        `;
                    }).join('');
                    
                    container.innerHTML = groupedHTML;
                } else {
                    container.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #48bb78;">
                            <i class="fas fa-check-circle" style="font-size: 3em; margin-bottom: 15px;"></i>
                            <h3>No Active Alerts!</h3>
                            <p>All systems are operating normally.</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error loading grouped alerts:', error);
            }
        }

        // Load Analytics
        async function loadAnalytics() {
            try {
                const [fleetRes, roiRes] = await Promise.all([
                    fetch(`${API_BASE}/analytics/fleet`),
                    fetch(`${API_BASE}/analytics/roi-report`)
                ]);
                
                const fleetData = await fleetRes.json();
                const roiData = await roiRes.json();
                
                const fleetContainer = document.getElementById('fleetAnalytics');
                fleetContainer.innerHTML = `
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
                        <div style="background: linear-gradient(135deg, #e6f2ff 0%, #cfe5ff 100%); padding: 25px; border-radius: 15px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                            <div style="font-size: 0.9em; color: #4a5568; margin-bottom: 8px; font-weight: 600;">Total Elevators</div>
                            <div style="font-size: 2.5em; font-weight: 800; color: #4299e1;">${fleetData.total_elevators || 0}</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #c6f6d5 0%, #9ae6b4 100%); padding: 25px; border-radius: 15px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                            <div style="font-size: 0.9em; color: #4a5568; margin-bottom: 8px; font-weight: 600;">Healthy</div>
                            <div style="font-size: 2.5em; font-weight: 800; color: #48bb78;">${fleetData.status_breakdown?.healthy || 0}</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #feebc8 0%, #fbd38d 100%); padding: 25px; border-radius: 15px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                            <div style="font-size: 0.9em; color: #4a5568; margin-bottom: 8px; font-weight: 600;">Warning</div>
                            <div style="font-size: 2.5em; font-weight: 800; color: #ed8936;">${fleetData.status_breakdown?.warning || 0}</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%); padding: 25px; border-radius: 15px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                            <div style="font-size: 0.9em; color: #4a5568; margin-bottom: 8px; font-weight: 600;">Critical</div>
                            <div style="font-size: 2.5em; font-weight: 800; color: #fc8181;">${fleetData.status_breakdown?.critical || 0}</div>
                        </div>
                    </div>
                    <div style="background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%); padding: 25px; border-radius: 15px; border-left: 4px solid #667eea;">
                        <h3 style="margin-bottom: 20px; color: #2d3748;"><i class="fas fa-chart-line"></i> Fleet Metrics</h3>
                        <div style="display: grid; gap: 15px;">
                            <div style="display: flex; justify-content: space-between; padding: 15px; background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                                <span style="font-weight: 600; color: #4a5568;">Average Risk Score:</span>
                                <strong style="color: #667eea;">${fleetData.average_risk_score || 0}/100</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 15px; background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                                <span style="font-weight: 600; color: #4a5568;">Fleet Health:</span>
                                <strong style="color: #48bb78;">${fleetData.fleet_health_percentage || 0}%</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 15px; background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                                <span style="font-weight: 600; color: #4a5568;">Total Estimated Savings:</span>
                                <strong style="color: #9f7aea;">${formatCurrency(fleetData.total_estimated_savings || 0)}</strong>
                            </div>
                        </div>
                    </div>
                `;
                
                const roiContainer = document.getElementById('roiReport');
                roiContainer.innerHTML = `
                    <div style="background: linear-gradient(135deg, #c6f6d5 0%, #9ae6b4 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(72,187,120,0.2);">
                        <h3 style="color: #22543d; margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-piggy-bank"></i> Total Savings
                        </h3>
                        <div style="font-size: 3em; font-weight: 800; color: #48bb78;">${formatCurrency(roiData.total_savings || 0)}</div>
                    </div>
                    <div style="display: grid; gap: 15px;">
                        <div style="background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%); padding: 18px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <span style="font-weight: 600; color: #4a5568;"><i class="fas fa-wallet"></i> Total Investment:</span>
                            <strong style="font-size: 1.2em; color: #4299e1;">${formatCurrency(roiData.total_investment || 0)}</strong>
                        </div>
                        <div style="background: linear-gradient(135deg, #e6f2ff 0%, #cfe5ff 100%); padding: 18px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <span style="font-weight: 600; color: #4a5568;"><i class="fas fa-chart-line"></i> Net Benefit:</span>
                            <strong style="font-size: 1.2em; color: #48bb78;">${formatCurrency(roiData.net_benefit || 0)}</strong>
                        </div>
                        <div style="background: linear-gradient(135deg, #feebc8 0%, #fbd38d 100%); padding: 18px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <span style="font-weight: 600; color: #4a5568;"><i class="fas fa-percentage"></i> Overall ROI:</span>
                            <strong style="font-size: 1.2em; color: #ed8936;">${roiData.overall_roi_percentage || 0}%</strong>
                        </div>
                    </div>
                `;
                
                createRiskChart();
                
            } catch (error) {
                console.error('Error loading analytics:', error);
            }
        }

        // Create Risk Chart
        function createRiskChart() {
            const ctx = document.getElementById('riskChart');
            
            if (riskChart) {
                riskChart.destroy();
            }
            
            riskChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['0-20 (Low)', '21-40', '41-60', '61-80', '81-100 (High)'],
                    datasets: [{
                        label: 'Number of Elevators',
                        data: [5, 8, 6, 3, 2],
                        backgroundColor: [
                            'rgba(72, 187, 120, 0.8)',
                            'rgba(104, 211, 145, 0.8)',
                            'rgba(252, 211, 77, 0.8)',
                            'rgba(251, 146, 60, 0.8)',
                            'rgba(252, 129, 129, 0.8)'
                        ],
                        borderRadius: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1,
                                font: {
                                    weight: '600',
                                    family: 'Poppins'
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    weight: '600',
                                    family: 'Poppins'
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            padding: 12
                        }
                    }
                }
            });
        }

        // Load Technicians
        async function loadTechnicians() {
            try {
                const response = await fetch(`${API_BASE}/technicians`);
                const data = await response.json();
                
                const container = document.getElementById('technicianLeaderboard');
                
                if (data.leaderboard && data.leaderboard.length > 0) {
                    const tableHTML = `
                        <table>
                            <thead>
                                <tr>
                                    <th><i class="fas fa-trophy"></i> Rank</th>
                                    <th><i class="fas fa-user"></i> Name</th>
                                    <th><i class="fas fa-medal"></i> Level</th>
                                    <th><i class="fas fa-star"></i> Points</th>
                                    <th><i class="fas fa-check-circle"></i> Alerts Resolved</th>
                                    <th><i class="fas fa-clock"></i> Avg Response Time</th>
                                    <th><i class="fas fa-award"></i> Badges</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data.leaderboard.map((tech, index) => `
                                    <tr style="${index < 3 ? 'background: linear-gradient(90deg, #fff7ed 0%, white 100%);' : ''}">
                                        <td><strong style="font-size: 1.3em;">${index === 0 ? '🥇' : index === 1 ? '🥈' : index === 2 ? '🥉' : index + 1}</strong></td>
                                        <td><strong>${tech.name}</strong></td>
                                        <td>
                                            <span class="status-badge" style="background: ${tech.level === 'Gold' ? 'linear-gradient(135deg, #fbd38d 0%, #f6ad55 100%)' : tech.level === 'Silver' ? 'linear-gradient(135deg, #e2e8f0 0%, #cbd5e0 100%)' : 'linear-gradient(135deg, #fed7aa 0%, #fdba74 100%)'}; color: ${tech.level === 'Gold' ? '#744210' : '#2d3748'};">
                                                <i class="fas fa-crown"></i> ${tech.level}
                                            </span>
                                        </td>
                                        <td><strong style="color: #667eea; font-size: 1.1em;">${tech.points}</strong></td>
                                        <td>${tech.alerts_resolved}</td>
                                        <td>${tech.response_time_avg.toFixed(1)}h</td>
                                        <td><small>${tech.badges.join(', ')}</small></td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;
                    container.innerHTML = tableHTML;
                } else {
                    container.innerHTML = '<p style="padding: 20px; text-align: center;">No technicians found.</p>';
                }
            } catch (error) {
                console.error('Error loading technicians:', error);
            }
        }

        // Load Cost Savings
        async function loadSavings() {
            try {
                const roiRes = await fetch(`${API_BASE}/analytics/roi-report`);
                const roiData = await roiRes.json();
                
                animateValue('totalSavings30', 0, roiData.total_savings || 0, 1500);
                document.getElementById('overallROI').textContent = (roiData.overall_roi_percentage || 0) + '%';
                document.getElementById('totalInvestment').textContent = formatCurrency(roiData.total_investment || 0);
                document.getElementById('netBenefit').textContent = formatCurrency(roiData.net_benefit || 0);
                
                createSavingsChart(roiData.savings_by_status);
                
            } catch (error) {
                console.error('Error loading savings:', error);
            }
        }

        // Create Savings Chart
        function createSavingsChart(savingsData) {
            const ctx = document.getElementById('savingsChart');
            
            if (savingsChart) {
                savingsChart.destroy();
            }
            
            savingsChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Critical', 'Warning', 'Healthy'],
                    datasets: [{
                        label: 'Savings (INR)',
                        data: [
                            savingsData?.Critical || 0,
                            savingsData?.Warning || 0,
                            savingsData?.Healthy || 0
                        ],
                        backgroundColor: [
                            'rgba(252, 129, 129, 0.8)',
                            'rgba(237, 137, 54, 0.8)',
                            'rgba(72, 187, 120, 0.8)'
                        ],
                        borderRadius: 12
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '₹' + value.toLocaleString('en-IN');
                                },
                                font: {
                                    weight: '600',
                                    family: 'Poppins'
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    weight: '600',
                                    family: 'Poppins'
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            padding: 12,
                            callbacks: {
                                label: function(context) {
                                    return 'Savings: ₹' + context.parsed.y.toLocaleString('en-IN');
                                }
                            }
                        }
                    }
                }
            });
        }

        // Auto Refresh
        function startAutoRefresh() {
            refreshInterval = setInterval(() => {
                const activeSection = document.querySelector('.section.active').id;
                loadSectionData(activeSection);
                
                const indicator = document.getElementById('refreshIndicator');
                indicator.classList.add('active');
                setTimeout(() => indicator.classList.remove('active'), 1500);
            }, 30000);
        }

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', () => {
            console.log('🚀 YANTROG - Intelligent Elevator Monitoring System');
            console.log('📡 API Endpoint:', API_BASE);
            console.log('✅ System Ready!');
            
            document.getElementById('loginPage').style.display = 'flex';
        });
    </script>
</body>
</html>